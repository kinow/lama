<!--Author: Chinno Lavin, Jarl Jansen-->

<!-- Main bootstrap container covering the page -->
<div class="container-fluid min-vh-100 d-flex flex-column" id="main_body">

    <!-- Title Row, holds Artifact management text and add artifact button -->
    <div class="row" id="topRow">

        <!-- Title text -->
        <div class="col">
            <p class="header">Artifact Management</p>
        </div>

        <!--Add Artifact Button-->
        <div class="col">
            <span (click)="open()" class="float-end">
                <button type="button" class="btn btn-secondary" id="addArtifactButton" >
                    Add Artifact
                    <!-- Displays the + icon next to "Add artifact" -->
                    <em class="bi bi-plus-lg"></em>
                </button>
            </span>
        </div>

    <!--Row containing Artifacts Table-->
    <div class="row justify-content-sm-center" id="tableRow">
        <div class="col-9">
            <div class="table-wrapper-scroll-y my-custom-scrollbar" id="scrolly">

                <!-- Table displaying the artifacts -->
                <table class="table table-hover" id="artifactsTable">

                    <!--Table Headers-->
                    <thead>
                        <tr>
                            <!-- ID header -->
                            <th scope="col" sortable="ID"><p class="idHeader">ID</p></th>
                            <!-- Artifact header -->
                            <th scope="col" sortable="Artifact"><p class="artifactHeader">Artifact</p></th>
                            <!-- # of times labelled header-->
                            <th scope="col" sortable="timesLabelled"><p class="timeslabelledHeader">Times Labelled</p></th>
                        </tr>
                    </thead>

                    <!-- Table Content -->
                    <tbody>
                        <tr *ngFor="let artifact of artifacts |  slice: (page-1) * pageSize : page * pageSize" (click)="reRouter(artifact.getId())">
                            <!-- Artifact ID -->
                            <td><p class="artifactID">{{artifact.getId()}}</p></td>
                            <!-- Artifact text -->
                            <td><p class="artifactText">{{artifact.getData()}}</p></td>
                            <!-- Times artifact is labelled -->
                            <td><p class="timesLabelled">{{artifact.getNumberOfLabellings()}}</p></td>
                            
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Pagination of the table -->
            <div id="center-pagination">
                <ngb-pagination
                    [(page)]="page"
                    [pageSize]="pageSize"
                    [collectionSize]="artifacts.length">
                </ngb-pagination>
            </div>        
            
        </div>
    </div>
</div>
